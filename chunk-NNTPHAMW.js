import{c as W,e as h,f as v}from"./chunk-GSYZHS4G.js";import{Ba as a,Ca as w,Da as I,Ea as O,Fa as _,Ga as y,Ha as f,Ia as u,Ja as s,Ka as L,La as m,Ma as C,Na as N,O as g,Oa as z,Pa as E,Qa as U,Ta as K,Ua as V,V as P,Va as $,W as x,Ya as G,bb as i,ca as p,ea as q,kb as J,na as r,pb as T,ra as D,ua as l,wa as b}from"./chunk-4UFCJMXR.js";var Z=["dialogElement"],ee=["investigatorSheet"],te=["template2"],X=(n,e)=>e.tabName;function oe(n,e){if(n&1){let t=L();f(0,"a",9),m("click",function(){let d=P(t).$implicit,c=C();return x(c.tabs().activeTab.set(d.tabName))}),E(1),u()}if(n&2){let t=e.$implicit,o=C();w("active",o.tabs().activeTab()===t.tabName),r(),U(t.tabName)}}function ne(n,e){}function ie(n,e){if(n&1&&b(0,ne,0,0,"ng-template",10),n&2){let t=C().$implicit;a("ngTemplateOutlet",t.template)}}function ae(n,e){if(n&1&&b(0,ie,1,1,null,10),n&2){let t=e.$implicit,o=C();O(o.tabs().activeTab()===t.tabName?0:-1)}}function re(n,e){if(n&1&&s(0,"img",11),n&2){let t=C();a("ngSrc",t.investigatorToken().name+" sheet.jpg")("alt",t.investigatorToken().name+" sheet")}}function se(n,e){n&1&&E(0,` zawarto\u015B\u0107 template2
`)}var H=class n{hwa=g(h);dialog=D.required("dialogElement");investigatorSheet=D.required("investigatorSheet");template2=D.required("template2");onClick(e){e.stopPropagation(),e.preventDefault(),this.dialog().nativeElement.showModal()}investigatorToken=p.required();closeClick=q(void 0);tabs=i(()=>({tabs:[{tabName:"Sheet",template:this.investigatorSheet()},{tabName:"Tab2",template:this.template2()}],activeTab:q("Sheet")}));closeModal=v({params:this.closeClick,computation:()=>{this.dialog().nativeElement.close()}});drawFromMythosCup=v({params:i(()=>({currentPhase:this.hwa.game.currentPhase()})),computation:({methodParams:e})=>{if(e.currentPhase!=="Mythos Phase")return;let t=this.hwa.drawFromMythosCup(this.investigatorToken().name);return console.log(this.investigatorToken().name,"drawn",t),t}});goToNextRound=v({params:this.drawFromMythosCup,computation:({methodParams:e})=>{this.hwa.restoreMonsters(),this.hwa.restoreActions(this.investigatorToken().name),this.hwa.nextPhase("Action Phase")}});static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["app-investigator-token"]],viewQuery:function(t,o){t&1&&(N(o.dialog,Z,5),N(o.investigatorSheet,ee,5),N(o.template2,te,5)),t&2&&z(3)},hostBindings:function(t,o){t&1&&m("click",function(c){return o.onClick(c)})},inputs:{investigatorToken:[1,"investigatorToken"]},decls:16,vars:2,consts:[["dialogElement",""],["investigatorSheet",""],["template2",""],["width","56","height","77",3,"ngSrc","alt"],[1,"button-wrapper"],["autofocus","",3,"click"],[1,"tabs-wrapper"],["href","#",3,"active"],[1,"tabs-content-wrapper"],["href","#",3,"click"],[3,"ngTemplateOutlet"],["width","431","height","345",3,"ngSrc","alt"]],template:function(t,o){if(t&1){let d=L();s(0,"img",3),f(1,"dialog",null,0)(3,"div",4)(4,"button",5),m("click",function(){return P(d),x(o.closeClick.set({}))}),E(5,"Close"),u()(),f(6,"div",6),_(7,oe,2,3,"a",7,X),u(),f(9,"div",8),_(10,ae,1,1,null,null,X),u()(),b(12,re,1,2,"ng-template",null,1,G)(14,se,1,0,"ng-template",null,2,G)}t&2&&(a("ngSrc",o.investigatorToken().name+".jpg")("alt",o.investigatorToken().name),r(7),y(o.tabs().tabs),r(3),y(o.tabs().tabs))},dependencies:[T,J],styles:["[_nghost-%COMP%]{display:block;box-shadow:0 0 5px 5px #00ff7f;cursor:help}dialog[_ngcontent-%COMP%]{background-color:#ddd;cursor:auto}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.tabs-wrapper[_ngcontent-%COMP%]{display:flex;gap:1rem}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}a.active[_ngcontent-%COMP%]{text-decoration:underline;font-weight:700;color:revert}.tabs-content-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-width:500px;min-height:400px}"],changeDetection:0})};var B=class n{hwa=g(h);id=p.required();onClick(e){e.stopPropagation(),e.preventDefault(),this.hwa.ward(this.id())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["app-doom-token"]],hostBindings:function(t,o){t&1&&m("click",function(c){return o.onClick(c)})},inputs:{id:[1,"id"]},decls:1,vars:0,consts:[["ngSrc","doom-token.jpg","width","35","height","35","alt","doom token"]],template:function(t,o){t&1&&s(0,"img",0)},dependencies:[T],styles:["[_nghost-%COMP%]{display:block;cursor:grab}img[_ngcontent-%COMP%]{border-radius:50%;box-shadow:0 0 5px 5px red}"],changeDetection:0})};var R=class n{hwa=g(h);monsterCard=p.required();onClick(e){e.stopPropagation(),e.preventDefault()}move=v({params:this.hwa.game.currentPhase,computation:({methodParams:e})=>{if(e==="Monster Phase"&&!this.monsterCard().moved&&this.monsterCard().engagedInvestigators.length===0)switch(this.monsterCard().activate.type){case"Patrol":console.log("patrol",this.monsterCard()),this.hwa.patrol(this.monsterCard());break;default:break}}});engage=v({params:i(()=>({allMonstersMoved:this.hwa.allMonstersMoved()})),computation:({methodParams:e})=>{!e.allMonstersMoved||this.monsterCard().engaged||(console.log("ENGAGE HERE!",this.monsterCard().id,this.monsterCard().name,this.monsterCard().engaged),this.hwa.engage(this.monsterCard()))}});goToMythosPhase=v({params:i(()=>({allMonstersEngaged:this.hwa.allMonstersEngaged(),currentPhase:this.hwa.game.currentPhase()})),computation:({methodParams:e})=>{e.currentPhase!=="Monster Phase"||!e.allMonstersEngaged||this.hwa.nextPhase("Mythos Phase")}});MonsterState=W;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["app-monster-card"]],hostBindings:function(t,o){t&1&&m("click",function(c){return o.onClick(c)})},inputs:{monsterCard:[1,"monsterCard"]},decls:1,vars:2,consts:[["width","56","height","77",3,"ngSrc","alt"]],template:function(t,o){t&1&&s(0,"img",0),t&2&&a("ngSrc",o.monsterCard().name+(o.monsterCard().state===o.MonsterState.Ready?" ready":" engaged")+".jpg")("alt",o.monsterCard().name)},dependencies:[T],styles:["[_nghost-%COMP%]{display:block;box-shadow:0 0 5px 5px red}"],changeDetection:0})};var Q=(n,e)=>e.id;function pe(n,e){if(n&1&&s(0,"app-investigator-token",1),n&2){let t=e.$implicit;a("investigatorToken",t)}}function ce(n,e){if(n&1&&s(0,"app-doom-token",2),n&2){let t=e.$implicit;a("id",t.id)}}function le(n,e){if(n&1&&s(0,"app-monster-card",3),n&2){let t=e.$implicit;a("monsterCard",t)}}var S=class n{hwa=g(h);onClick(e){this.hwa.move(this.location().name)}get class(){return this.isStreet()?"street-location":"neighborhood-location"}location=p.required();isStreet=p(!1);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["app-tile-location"]],hostVars:2,hostBindings:function(t,o){t&1&&m("click",function(c){return o.onClick(c)}),t&2&&I(o.class)},inputs:{location:[1,"location"],isStreet:[1,"isStreet"]},decls:7,vars:0,consts:[[1,"wrapper"],[3,"investigatorToken"],[3,"id"],[3,"monsterCard"]],template:function(t,o){t&1&&(f(0,"div",0),_(1,pe,1,1,"app-investigator-token",1,Q),_(3,ce,1,1,"app-doom-token",2,Q),_(5,le,1,1,"app-monster-card",3,Q),u()),t&2&&(r(),y(o.location().investigators),r(2),y(o.location().doom),r(2),y(o.location().monsters))},dependencies:[H,B,R],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative;cursor:alias}.neighborhood-location[_nghost-%COMP%]{width:250px;height:500px;background-color:transparent;clip-path:polygon(0% 17%,0% 43%,16% 43%,16% 55%,0% 55%,0% 82%,46% 96%,54% 89%,65% 92%,100% 62%,93% 60%,86% 55%,84% 50%,85% 45%,90% 40%,100% 36%,65% 6%,55% 9%,48% 2%)}.street-location[_nghost-%COMP%]{width:223px;height:230px;background-color:transparent;clip-path:polygon(0% 35%,0% 64%,17% 64%,17% 100%,83% 100%,83% 62%,101% 61%,100% 35%,83% 35%,83% 0%,17% 0%,17% 35%)}[_nghost-%COMP%]:hover{background-color:#3498db30}.up.right[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{transform:rotate(-90deg)}.up.left[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{transform:rotate(-90deg)}.down.right[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{transform:rotate(-270deg)}.down.left[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{transform:rotate(-270deg)}.right[_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]{transform:rotate(-180deg)}.left[_nghost-%COMP%]:not(.up,.down)   .wrapper[_ngcontent-%COMP%], .right[_nghost-%COMP%]:not(.up,.down)   .wrapper[_ngcontent-%COMP%], .street-location[_nghost-%COMP%]:not(.up,.down)   .wrapper[_ngcontent-%COMP%]{padding:0 40px}.wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1rem}"],changeDetection:0})};function de(n,e){if(n&1&&s(0,"app-tile-location",0),n&2){C();let t=$(0);a("location",t)}}function me(n,e){if(n&1&&s(0,"app-tile-location",1),n&2){C();let t=$(1);a("location",t)}}var A=class n{left=p();right=p();up=p.required();down=p.required();name=p.required();log(e){console.log(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["app-neighborhood"]],inputs:{left:[1,"left"],right:[1,"right"],up:[1,"up"],down:[1,"down"],name:[1,"name"]},decls:7,vars:16,consts:[[1,"left",3,"location"],[1,"right",3,"location"],[1,"up",3,"location"],[1,"down",3,"location"],[1,"neighborhood-center",3,"click"]],template:function(t,o){if(t&1){let d=L();K(0)(1),b(2,de,1,1,"app-tile-location",0)(3,me,1,1,"app-tile-location",1),s(4,"app-tile-location",2)(5,"app-tile-location",3),f(6,"div",4),m("click",function(){return P(d),x(o.log(o.name()))}),u()}if(t&2){let d=V(o.left());r();let c=V(o.right());r(),O(d?2:-1),r(),O(c?3:-1),r(),w("right",d)("left",c),a("location",o.up()),r(),w("right",d)("left",c),a("location",o.down()),r(),w("right",c)}},dependencies:[S],styles:["[_nghost-%COMP%]{display:block;position:relative;width:0;height:0}.up.left[_ngcontent-%COMP%]{transform:rotate(60deg);top:-631px;left:-241px}.up.right[_ngcontent-%COMP%]{transform:rotate(120deg);top:-647px;left:236px}.down.left[_ngcontent-%COMP%]{transform:rotate(300deg);top:-854px;left:-233px}.down.right[_ngcontent-%COMP%]{transform:rotate(240deg);top:-869px;left:244px}.right[_ngcontent-%COMP%]{transform:rotate(180deg)}.neighborhood-center[_ngcontent-%COMP%]{position:relative;top:-1332px;left:211px;width:150px;height:150px;clip-path:circle(50% at 50% 50%)}.neighborhood-center[_ngcontent-%COMP%]:hover{background-color:#3498db30}.neighborhood-center.right[_ngcontent-%COMP%]{top:-1321px;left:-108px}"],changeDetection:0})};var F=class n{get class(){return this.rotation()}location=p.required();rotation=p();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["app-street"]],hostVars:2,hostBindings:function(t,o){t&2&&I(o.class)},inputs:{location:[1,"location"],rotation:[1,"rotation"]},decls:1,vars:2,consts:[[3,"isStreet","location"]],template:function(t,o){t&1&&s(0,"app-tile-location",0),t&2&&a("isStreet",!0)("location",o.location())},dependencies:[S],styles:["[_nghost-%COMP%]{display:block;position:relative;width:0;height:0}.right[_nghost-%COMP%]{transform:rotate(60deg)}.left[_nghost-%COMP%]{transform:rotate(300deg)}"],changeDetection:0})};var j=class n{hwa=g(h);districts=i(()=>this.hwa.game.scenario.board.districts());nortside=i(()=>this.districts().find(e=>e.name==="Northside"));curiositieShoppe=i(()=>this.nortside().locations.find(e=>e.name==="Curiositie Shoppe"));arkhamAdvertiser=i(()=>this.nortside().locations.find(e=>e.name==="Arkham Advertiser"));trainStation=i(()=>this.nortside().locations.find(e=>e.name==="Train Station"));downtown=i(()=>this.districts().find(e=>e.name==="Downtown"));arkhamAsylum=i(()=>this.downtown().locations.find(e=>e.name==="Arkham Asylum"));independenceSquare=i(()=>this.downtown().locations.find(e=>e.name==="Independence Square"));laBellaLuna=i(()=>this.downtown().locations.find(e=>e.name==="La Bella Luna"));easttown=i(()=>this.districts().find(e=>e.name==="Easttown"));velmasDinner=i(()=>this.easttown().locations.find(e=>e.name==="Velma's Dinner"));policeStation=i(()=>this.easttown().locations.find(e=>e.name==="Police Station"));hibbsRoadhouse=i(()=>this.easttown().locations.find(e=>e.name==="Ribb's Roadhouse"));merchantDistrict=i(()=>this.districts().find(e=>e.name==="Merchant District"));riverDocks=i(()=>this.merchantDistrict().locations.find(e=>e.name==="River Docks"));unvisitedIsle=i(()=>this.merchantDistrict().locations.find(e=>e.name==="Unvisited Isle"));ticTocClub=i(()=>this.merchantDistrict().locations.find(e=>e.name==="Tic-Toc Club"));rivertown=i(()=>this.districts().find(e=>e.name==="Rivertown"));blackCave=i(()=>this.rivertown().locations.find(e=>e.name==="Black Cave"));generalStore=i(()=>this.rivertown().locations.find(e=>e.name==="General Store"));graveyard=i(()=>this.rivertown().locations.find(e=>e.name==="Graveyard"));streets=i(()=>this.hwa.game.scenario.board.streets());scenic1=i(()=>this.streets().find(e=>e.location.name==="Scenic1").location);residential1=i(()=>this.streets().find(e=>e.location.name==="Residential1").location);scenic2=i(()=>this.streets().find(e=>e.location.name==="Scenic2").location);residential2=i(()=>this.streets().find(e=>e.location.name==="Residential2").location);bridge1=i(()=>this.streets().find(e=>e.location.name==="Bridge1").location);bridge2=i(()=>this.streets().find(e=>e.location.name==="Bridge2").location);residential3=i(()=>this.streets().find(e=>e.location.name==="Residential3").location);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=l({type:n,selectors:[["app-generic-codex"]],decls:12,vars:31,consts:[[1,"northside",3,"name","left","up","down"],[1,"downtown",3,"name","left","up","down"],[1,"easttown",3,"name","right","up","down"],[1,"merchant-district",3,"name","left","up","down"],[1,"rivertown",3,"name","right","up","down"],[1,"scenic1",3,"location"],[1,"residential1",3,"location"],[1,"scenic2",3,"rotation","location"],[1,"residential2",3,"rotation","location"],[1,"bridge1",3,"rotation","location"],[1,"bridge2",3,"rotation","location"],[1,"residential3",3,"location"]],template:function(t,o){t&1&&s(0,"app-neighborhood",0)(1,"app-neighborhood",1)(2,"app-neighborhood",2)(3,"app-neighborhood",3)(4,"app-neighborhood",4)(5,"app-street",5)(6,"app-street",6)(7,"app-street",7)(8,"app-street",8)(9,"app-street",9)(10,"app-street",10)(11,"app-street",11),t&2&&(a("name",o.nortside())("left",o.curiositieShoppe())("up",o.arkhamAdvertiser())("down",o.trainStation()),r(),a("name",o.downtown())("left",o.arkhamAsylum())("up",o.independenceSquare())("down",o.laBellaLuna()),r(),a("name",o.easttown())("right",o.hibbsRoadhouse())("up",o.velmasDinner())("down",o.policeStation()),r(),a("name",o.merchantDistrict())("left",o.riverDocks())("up",o.unvisitedIsle())("down",o.ticTocClub()),r(),a("name",o.rivertown())("right",o.graveyard())("up",o.blackCave())("down",o.generalStore()),r(),a("location",o.scenic1()),r(),a("location",o.residential1()),r(),a("rotation","right")("location",o.scenic2()),r(),a("rotation","left")("location",o.residential2()),r(),a("rotation","right")("location",o.bridge1()),r(),a("rotation","left")("location",o.bridge2()),r(),a("location",o.residential3()))},dependencies:[A,F],styles:['[_nghost-%COMP%]{display:block;background-image:url("./media/board-OUS35VEK.jpg");height:1450px;width:2050px;background-repeat:no-repeat}.northside[_ngcontent-%COMP%]{top:90px;left:20px}.downtown[_ngcontent-%COMP%]{top:90px;left:732px}.easttown[_ngcontent-%COMP%]{top:79px;left:1763px}.merchant-district[_ngcontent-%COMP%]{top:705px;left:376px}.rivertown[_ngcontent-%COMP%]{top:694px;left:1406px}.scenic1[_ngcontent-%COMP%]{top:219px;left:550px}.residential1[_ngcontent-%COMP%]{top:219px;left:1261px}.scenic2[_ngcontent-%COMP%]{top:488px;left:524px}.residential2[_ngcontent-%COMP%]{top:682px;left:686px}.bridge1[_ngcontent-%COMP%]{top:488px;left:1239px}.bridge2[_ngcontent-%COMP%]{top:682px;left:1400px}.residential3[_ngcontent-%COMP%]{top:838px;left:907px}'],changeDetection:0})};var Dt=[{path:"",component:j}];export{Dt as default};
